## å›æº¯ç®—æ³•

### æ€è·¯åˆ†æ

æœ¬é¢˜å¯ä»¥ä½¿ç”¨å›æº¯ç®—æ³•ä¸»è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼š

1.**é—®é¢˜ç»“æ„**

â‘  ç»„åˆé—®é¢˜

- é—®é¢˜æ¶‰åŠä¸ºæ¯ä¸ªé¡¾å®¢é€‰æ‹©ä¸€æ¡è·¯å¾„ï¼Œå½¢æˆä¸€ä¸ªè·¯å¾„ç»„åˆ
- æ¯ä¸ªé¡¾å®¢ä¹‹é—´æœ‰å¤šæ¡è·¯å¾„å¯é€‰ï¼Œå½¢æˆäº†ä¸€ä¸ªå¤šå±‚å†³ç­–æ ‘

â‘¡ çº¦æŸæ¡ä»¶

- æ€»æ—¶é—´ä¸èƒ½è¶…è¿‡ç»™å®šçš„æ—¶é—´çº¦æŸ
- ç›®æ ‡æ˜¯æœ€å°åŒ–æ€»æˆæœ¬ï¼ˆè·ç¦» + è´¹ç”¨ï¼‰

â‘¢ è§£ç©ºé—´

- è§£ç©ºé—´æ˜¯æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ç»„åˆï¼Œè§„æ¨¡ä¸º ğ‘šğ‘›*m**n*ï¼Œå…¶ä¸­ ğ‘š*m* æ˜¯æ¯ä¸ªé¡¾å®¢çš„è·¯å¾„æ•°ï¼Œğ‘›*n* æ˜¯é¡¾å®¢æ•°é‡ã€‚

2.**å›æº¯ç®—æ³•çš„ç‰¹æ€§**

â‘  æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š

- å›æº¯ç®—æ³•é€šè¿‡æ·±åº¦ä¼˜å…ˆæœç´¢éå†æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ç»„åˆã€‚

- é€‚åˆè§£å†³ç»„åˆé—®é¢˜ï¼Œèƒ½å¤Ÿç³»ç»Ÿåœ°æ¢ç´¢è§£ç©ºé—´ã€‚

â‘¡ å‰ªæä¼˜åŒ–ï¼š

- å›æº¯ç®—æ³•å¯ä»¥é€šè¿‡å‰ªææ¡ä»¶ï¼ˆå¦‚æ—¶é—´çº¦æŸå’Œå½“å‰æˆæœ¬ï¼‰å‡å°‘ä¸å¿…è¦çš„è®¡ç®—ã€‚

- å‰ªæå¯ä»¥æ˜¾è‘—å‡å°‘æœç´¢ç©ºé—´ï¼Œæé«˜ç®—æ³•æ•ˆç‡ã€‚

â‘¢ çµæ´»æ€§ï¼š

- å›æº¯ç®—æ³•å¯ä»¥çµæ´»åœ°ç»“åˆå…¶ä»–ç­–ç•¥ï¼ˆå¦‚è´ªå¿ƒç­–ç•¥ï¼‰æ¥å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚

- åœ¨æ‰¾ä¸åˆ°æ»¡è¶³çº¦æŸçš„è§£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è´ªå¿ƒç­–ç•¥æä¾›ä¸€ä¸ªå¯è¡Œè§£ã€‚

â‘£ é€‚ç”¨æ€§ï¼š

- å›æº¯ç®—æ³•é€‚ç”¨äºé—®é¢˜è§„æ¨¡è¾ƒå°æˆ–ä¸­ç­‰çš„æƒ…å†µã€‚

- åœ¨é—®é¢˜è§„æ¨¡è¾ƒå¤§æ—¶ï¼Œå¯ä»¥é€šè¿‡å‰ªæå’Œå¯å‘å¼æ–¹æ³•ä¼˜åŒ–æ€§èƒ½ã€‚

å›æº¯ç®—æ³•çš„ç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š

1.åˆå§‹åŒ–

- å‚æ•°åˆå§‹åŒ–ï¼š

  - bestTotalCostï¼šåˆå§‹åŒ–ä¸º Double.MAX_VALUEï¼Œç”¨äºè®°å½•å½“å‰æ‰¾åˆ°çš„æœ€ä¼˜æ€»æˆæœ¬ã€‚

  - bestPathï¼šç”¨äºå­˜å‚¨æœ€ä¼˜è·¯å¾„é€‰æ‹©ã€‚

  - bestTotalTimeï¼šè®°å½•æœ€ä¼˜è§£å¯¹åº”çš„æ€»æ—¶é—´ã€‚

  - foundValidSolutionï¼šæ ‡è®°æ˜¯å¦æ‰¾åˆ°æœ‰æ•ˆè§£ï¼Œåˆå§‹ä¸º falseã€‚

- è·¯å¾„åˆå§‹åŒ–ï¼šcurrentPathï¼šç”¨äºè®°å½•å½“å‰è·¯å¾„é€‰æ‹©ï¼Œåˆå§‹åŒ–ä¸º -1ã€‚

2.å›æº¯æœç´¢

- å…¥å£å‡½æ•°ï¼š
  - solve(Problem problem)ï¼šå¼€å§‹å›æº¯æœç´¢ï¼Œè°ƒç”¨ backtrack æ–¹æ³•ã€‚

- æ ¸å¿ƒé€’å½’å‡½æ•°ï¼š

  - backtrack(Problem problem, int customerIndex, double currentTime, double currentCost, int[] currentPath)ï¼š

  - å‰ªææ¡ä»¶ï¼š
    - å¦‚æœ currentTime è¶…è¿‡æ—¶é—´çº¦æŸæˆ– currentCost è¶…è¿‡å·²çŸ¥æœ€ä¼˜è§£ï¼Œåˆ™åœæ­¢æœç´¢ã€‚

  - ç»ˆæ­¢æ¡ä»¶ï¼š
    - å¦‚æœ customerIndex è¾¾åˆ°é¡¾å®¢æ•°é‡ï¼Œè¡¨ç¤ºæ‰¾åˆ°ä¸€ä¸ªå®Œæ•´è§£ï¼Œæ›´æ–°æœ€ä¼˜è§£ã€‚

  - è·¯å¾„é€‰æ‹©ï¼š

    - éå†å½“å‰é¡¾å®¢çš„æ‰€æœ‰å¯èƒ½è·¯å¾„ã€‚

    - è®¡ç®—æ–°æ—¶é—´ newTime å’Œæ–°æˆæœ¬ newCostã€‚

    - å¦‚æœæ»¡è¶³æ—¶é—´çº¦æŸä¸”æœ‰å¯èƒ½å¾—åˆ°æ›´ä¼˜è§£ï¼Œé€’å½’è°ƒç”¨ backtrackã€‚

ç”±äºæœ¬é¢˜å¯èƒ½å‡ºç°é€‰æ‹©ä»»ä½•è·¯å¾„éƒ½ä¸èƒ½ä¿è¯åœ¨è§„å®šæ—¶é—´é™åˆ¶çš„èŒƒå›´å†…ï¼Œå› æ­¤æˆ‘ä»¬ä¸ºå›æº¯ç®—æ³•å¢åŠ äº†ä¸€ä¸ªä¿åº•çš„è´ªå¿ƒç­–ç•¥ï¼Œå³åœ¨æ— è§£çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨è´ªå¿ƒç®—æ³•é€‰æ‹©ä¸€ä¸ªç›¸å¯¹æ¥è¯´è¾ƒä¼˜çš„è§£

**è´ªå¿ƒç­–ç•¥çš„æ ¸å¿ƒæ€æƒ³**

- ç›®æ ‡ï¼š

  - åœ¨æ—¶é—´çº¦æŸå†…ï¼Œå°½å¯èƒ½é€‰æ‹©æ€»æˆæœ¬ï¼ˆè·ç¦» + è´¹ç”¨ï¼‰æœ€ä½çš„è·¯å¾„ã€‚

  - å¦‚æœæ— æ³•æ»¡è¶³æ—¶é—´çº¦æŸï¼Œé€‰æ‹©ç»¼åˆè¯„åˆ†æœ€ä½çš„è·¯å¾„ï¼Œå…¶ä¸­ç»¼åˆè¯„åˆ†åŒ…æ‹¬æ—¶é—´è¶…å‡ºæƒ©ç½šã€‚

- ç»¼åˆè¯„åˆ†ï¼š

  - æ¯æ¡è·¯å¾„çš„è¯„åˆ†ç”±å…¶æˆæœ¬å’Œæ—¶é—´è¶…å‡ºæƒ©ç½šç»„æˆã€‚

  - å…¬å¼ä¸ºï¼šscore = (path.getDistance() + path.getCost()) + timePenalty * 1000

  - timePenalty æ˜¯æ—¶é—´è¶…å‡ºéƒ¨åˆ†ï¼Œ1000 æ˜¯æƒ©ç½šå› å­ã€‚

**è´ªå¿ƒç­–ç•¥çš„æ­¥éª¤**

- åˆå§‹åŒ–ï¼š
  - ä¸ºæ¯ä¸ªé¡¾å®¢é€‰æ‹©è·¯å¾„ï¼Œåˆå§‹åŒ–æ€»æ—¶é—´å’Œæ€»æˆæœ¬ä¸ºé›¶ã€‚

- è·¯å¾„é€‰æ‹©ï¼š

  - å¯¹äºæ¯ä¸ªé¡¾å®¢ï¼Œè®¡ç®—æ‰€æœ‰å¯èƒ½è·¯å¾„çš„ç»¼åˆè¯„åˆ†ã€‚

  - é€‰æ‹©è¯„åˆ†æœ€ä½çš„è·¯å¾„ä½œä¸ºå½“å‰é¡¾å®¢çš„æœ€ä½³è·¯å¾„ã€‚

- æ›´æ–°è§£å†³æ–¹æ¡ˆï¼š

  - æ›´æ–°å½“å‰é€‰æ‹©è·¯å¾„çš„æ€»æ—¶é—´å’Œæ€»æˆæœ¬ã€‚

  - å¦‚æœæ€»æ—¶é—´è¶…è¿‡æ—¶é—´çº¦æŸï¼Œæ·»åŠ æ—¶é—´æƒ©ç½šåˆ°æ€»æˆæœ¬ã€‚

### ç®—æ³•å®éªŒ

**æ•ˆç‡å®éªŒï¼š**

| é—®é¢˜è§„æ¨¡ | è€—æ—¶ | æˆæœ¬  |
| :------: | :--: | :---: |
|    10    | 1ms  | 38.73 |
|    20    | 28ms | 54.77 |
|    50    | 15ms | 58.36 |
|   100    | 89ms | 55.74 |

**ä¸åŒæ—¶é—´çº¦æŸä¸‹å¯¹æ¯”è¯•éªŒï¼š**

| æ—¶é—´çº¦æŸ | å®é™…æ—¶é—´ |       æˆæœ¬       |
| :------: | :------: | :--------------: |
|   60.0   |  105.2   | 45238.67ï¼ˆè¶…æ—¶ï¼‰ |
|   90.0   |  105.2   | 15238.67ï¼ˆè¶…æ—¶ï¼‰ |
|  120.0   |  105.2   |      51.15       |
|  150.0   |  105.2   |      51.15       |
|  180.0   |  105.2   |      51.15       |

### ç®—æ³•æ€»ç»“

ä¼˜ç‚¹ï¼š

- ç³»ç»Ÿæ€§æ¢ç´¢ï¼š

â€‹	å›æº¯ç®—æ³•é€šè¿‡æ·±åº¦ä¼˜å…ˆæœç´¢ç³»ç»Ÿåœ°æ¢ç´¢æ‰€æœ‰å¯èƒ½çš„è§£ç©ºé—´ï¼Œç¡®ä¿ä¸é—æ¼ä»»ä½•å¯èƒ½çš„è§£ã€‚

â€‹	é€‚ç”¨äºéœ€è¦ç©·ä¸¾æ‰€æœ‰å¯èƒ½ç»„åˆçš„åœºæ™¯ã€‚

- æ˜“äºå®ç°ï¼š

â€‹	å›æº¯ç®—æ³•çš„å®ç°é€šå¸¸æ¯”è¾ƒç›´è§‚ï¼Œæ˜“äºç†è§£å’Œç¼–ç ã€‚

â€‹	é€‚åˆç”¨æ¥è§£å†³å°è§„æ¨¡é—®é¢˜æˆ–ä½œä¸ºå¤æ‚é—®é¢˜çš„åˆæ­¥è§£å†³æ–¹æ¡ˆã€‚

- ä¿è¯è§£çš„æ­£ç¡®æ€§ï¼š

â€‹	åœ¨æ²¡æœ‰å‰ªæé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œå›æº¯ç®—æ³•èƒ½å¤Ÿä¿è¯æ‰¾åˆ°é—®é¢˜çš„æœ€ä¼˜è§£ã€‚

ç¼ºç‚¹ï¼š

- æ—¶é—´å¤æ‚åº¦é«˜ï¼š

â€‹	åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå›æº¯ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ•°çº§çš„ï¼Œå¯èƒ½éœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„è§£ã€‚

â€‹	å¯¹äºå¤§è§„æ¨¡é—®é¢˜ï¼Œå›æº¯ç®—æ³•å¯èƒ½ä¼šå˜å¾—ä¸å¯è¡Œã€‚

- ç©ºé—´å¤æ‚åº¦é«˜ï¼š

â€‹	ç”±äºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ç­‰äºé—®é¢˜è§„æ¨¡ï¼Œç©ºé—´å¤æ‚åº¦å¯èƒ½è¾ƒé«˜ã€‚

â€‹	åœ¨å¤§è§„æ¨¡é—®é¢˜ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚

- æ•ˆç‡ä½ä¸‹ï¼š

â€‹	åœ¨æ²¡æœ‰æœ‰æ•ˆå‰ªææˆ–å¯å‘å¼ç­–ç•¥çš„æƒ…å†µä¸‹ï¼Œå›æº¯ç®—æ³•å¯èƒ½ä¼šè¿›è¡Œå¤§é‡æ— æ•ˆçš„æœç´¢ã€‚

â€‹	éœ€è¦ä»”ç»†è®¾è®¡å‰ªææ¡ä»¶å’Œå¯å‘å¼ç­–ç•¥ä»¥æé«˜æ•ˆç‡ã€‚

### æ ¸å¿ƒä»£ç 

````java
/**
 * å›æº¯æœç´¢æ ¸å¿ƒå‡½æ•°
 * @param problem é—®é¢˜å®ä¾‹
 * @param customerIndex å½“å‰å¤„ç†çš„é¡¾å®¢ç´¢å¼•
 * @param currentTime å½“å‰ç´¯è®¡æ—¶é—´
 * @param currentCost å½“å‰ç´¯è®¡æˆæœ¬
 * @param currentPath å½“å‰è·¯å¾„é€‰æ‹©
 */
private void backtrack(Problem problem, int customerIndex, double currentTime, 
                     double currentCost, int[] currentPath) {
    // å‰ªæï¼šå¦‚æœå½“å‰æ—¶é—´å·²è¶…è¿‡é™åˆ¶ï¼Œæˆ–å½“å‰æˆæœ¬å·²è¶…è¿‡æœ€ä¼˜è§£ï¼Œåˆ™åœæ­¢æœç´¢
    if (currentTime > problem.getTimeConstraint() || currentCost >= bestTotalCost) {
        return;
    }

    // æ‰¾åˆ°ä¸€ä¸ªå®Œæ•´çš„è§£
    if (customerIndex == problem.getCustomers().size()) {
        foundValidSolution = true;  // æ ‡è®°æ‰¾åˆ°æœ‰æ•ˆè§£
        // æ›´æ–°æœ€ä¼˜è§£
        if (currentCost < bestTotalCost) {
            bestTotalCost = currentCost;
            bestTotalTime = currentTime;
            System.arraycopy(currentPath, 0, bestPath, 0, currentPath.length);
        }
        return;
    }

    // è·å–å½“å‰é¡¾å®¢çš„æ‰€æœ‰å¯èƒ½è·¯å¾„
    List<Path> paths = problem.getPaths().get("customer_" + customerIndex);

    // å°è¯•æ¯æ¡å¯èƒ½çš„è·¯å¾„
    for (int i = 0; i < paths.size(); i++) {
        Path path = paths.get(i);
        double newTime = currentTime + path.getTime();
        double newCost = currentCost + path.getDistance() + path.getCost();

        // å¦‚æœæ»¡è¶³æ—¶é—´çº¦æŸä¸”æœ‰å¯èƒ½å¾—åˆ°æ›´ä¼˜è§£ï¼Œç»§ç»­æœç´¢
        if (newTime <= problem.getTimeConstraint() && newCost < bestTotalCost) {
            currentPath[customerIndex] = i;
            backtrack(problem, customerIndex + 1, newTime, newCost, currentPath);
        }
    }
}
````

## ç¦å¿Œæœç´¢ç®—æ³•

### æ€è·¯åˆ†æ

ä¸¤ä¸ªæ ¸å¿ƒæ•°æ®ï¼š

æœ€å¤§è¿­ä»£è½®æ•° iterations

ç¦å¿Œè¡¨ Queue     æœ€å¤§é™åˆ¶å¤§å° size 

![1](images\1.png)

- å¯¹äºæ¯ä¸ªç”Ÿæˆçš„é¢†åŸŸè§£ï¼Œéƒ½ä¼šè®¡ç®—å…¶æ€»çš„ cost + distï¼Œè‹¥æ—¶é—´è¶…è¿‡ C ï¼Œåˆ™ä¼šå¢åŠ ä¸€ä¸ªæƒ©ç½šç³»æ•°ï¼Œè¿™é‡Œé‡‡ç”¨è®© 

  totalcost * 1000

- ç¦å¿Œè¡¨å†…å…ƒç´ è¾¾åˆ°ä¸Šé™æ—¶ï¼Œä¼šç§»é™¤æœ€æ—§çš„å…ƒç´ ï¼ˆå‡å°‘å†…å­˜ç©ºé—´çš„æ¶ˆè€—ï¼Œé¿å…å› ç¦å¿Œè¡¨å­˜å‚¨å…ƒç´ è¿‡å¤šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼‰

### ç®—æ³•å®éªŒ

å‚æ•°è®¾ç½®ï¼š

tabuListSizeï¼ˆç¦å¿Œè¡¨å¤§å°ï¼‰ï¼š20      maxIterationsï¼ˆæœ€å¤§è¿­ä»£è½®æ•°ï¼‰ï¼š500

**æ•ˆç‡å®éªŒï¼š**

| é—®é¢˜è§„æ¨¡ |  è€—æ—¶  | æˆæœ¬  |
| :------: | :----: | :---: |
|    10    |  34ms  | 31.18 |
|    20    |  86ms  | 56.15 |
|    50    | 251ms  | 50.49 |
|   100    | 1018ms | 55.78 |

**ä¸åŒæ—¶é—´çº¦æŸä¸‹å¯¹æ¯”è¯•éªŒï¼š**

| æ—¶é—´çº¦æŸ | å®é™…æ—¶é—´ | æˆæœ¬  |
| :------: | :------: | :---: |
|   60.0   |  111.0   | 56.34 |
|   90.0   |  111.0   | 56.34 |
|  120.0   |  111.5   | 55.96 |
|  150.0   |  111.5   | 55.96 |
|  180.0   |  111.5   | 55.96 |

### ç®—æ³•æ€»ç»“

**ä¼˜ç‚¹ï¼š**

- çµæ´»æ€§å¼º


â€‹	å¯ä»¥æ ¹æ®é—®é¢˜çš„ç‰¹ç‚¹è®¾è®¡ä¸åŒçš„é‚»åŸŸç»“æ„ã€‚ä¾‹å¦‚ï¼Œå¯¹äºè·¯å¾„ä¼˜åŒ–é—®é¢˜ï¼Œå¯ä»¥é€‰æ‹©æ”¹å˜è·¯å¾„é¡ºåºã€äº¤æ¢è·¯å¾„ç­‰å¤šç§æ–¹å¼ç”Ÿæˆé‚»åŸŸè§£ã€‚

- æ’é™¤äº†é‡å¤çš„æœç´¢


â€‹	é€šè¿‡ç¦å¿Œè¡¨æ’é™¤äº†é‡å¤æœç´¢åŒä¸€ä¸ªå…ƒç´ /è·¯å¾„çš„æƒ…å†µï¼Œå¯ä»¥æ¢ç´¢ç©ºé—´ä¸­æ›´å¤šçš„è§£ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥å‡å°‘å±€éƒ¨æœ€ä¼˜

**ç¼ºç‚¹ï¼š**

- ä¾èµ–äºåˆå§‹è§£


â€‹	ç¦å¿Œæœç´¢çš„æœ€ç»ˆè§£è´¨é‡å—åˆ°åˆå§‹è§£çš„å½±å“è¾ƒå¤§ã€‚å¦‚æœåˆå§‹è§£ä¸å¥½ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç®—æ³•é™·å…¥è¾ƒå·®çš„è§£ç©ºé—´ï¼Œå³ä½¿ç¦å¿Œæœç´¢èƒ½å¤Ÿé¿å…å±€éƒ¨æœ€ä¼˜ï¼Œä¹Ÿéš¾ä»¥æ‰¾åˆ°æ›´å¥½çš„å…¨å±€æœ€ä¼˜è§£

- è®¡ç®—å¼€é”€è¾ƒå¤§


â€‹	ç¦å¿Œæœç´¢çš„æ¯æ¬¡è¿­ä»£éƒ½éœ€è¦ç”Ÿæˆé‚»åŸŸè§£å¹¶è®¡ç®—ä»£ä»·ã€‚åœ¨å¤§è§„æ¨¡é—®é¢˜ä¸­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´è¾ƒé«˜çš„è®¡ç®—å¼€é”€ã€‚

- å‚æ•°è®¾ç½®è¾ƒä¸ºå›°éš¾


â€‹	éœ€è¦åˆç†è®¾ç½®æœ€å¤§è¿­ä»£è½®æ•°å’Œç¦å¿Œè¡¨çš„å¤§å°

### æ ¸å¿ƒä»£ç 

```java
    @Override
    public Solution solve(Problem problem) {
        // ç”Ÿæˆåˆå§‹è§£
        Solution currentSolution = generateInitialSolution(problem);
        // åˆå§‹åŒ–æœ€ä½³è§£ä¸ºå½“å‰è§£çš„å…‹éš†
        Solution bestSolution = currentSolution.clone();
        // åˆå§‹åŒ–ç¦å¿Œè¡¨
        Queue<String> tabuList = new LinkedList<>();

        // å¼€å§‹æœ€å¤§è¿­ä»£æ¬¡æ•°çš„å¾ªç¯
        for (int i = 0; i < maxIterations; i++) {
            // ç”Ÿæˆå½“å‰è§£çš„é‚»åŸŸè§£
            List<Solution> neighbors = generateNeighbors(currentSolution, problem);
            Solution bestNeighbor = null;
            double bestNeighborCost = Double.MAX_VALUE;  // åˆå§‹åŒ–é‚»åŸŸè§£çš„æœ€ä¼˜æˆæœ¬ä¸ºæœ€å¤§å€¼

            // éå†æ‰€æœ‰é‚»åŸŸè§£ï¼Œé€‰æ‹©æœ€ä¼˜çš„é‚»åŸŸè§£
            for (Solution neighbor : neighbors) {
                // è·å–å½“å‰è§£åˆ°é‚»åŸŸè§£çš„ç§»åŠ¨æ ‡è¯†
                String moveKey = getMoveKey(currentSolution, neighbor);
                // è®¡ç®—é‚»åŸŸè§£çš„æˆæœ¬
                double cost = calculateCost(neighbor, problem);

                // å¦‚æœé‚»åŸŸè§£ä¸åœ¨ç¦å¿Œè¡¨ä¸­ï¼Œæˆ–è€…è¯¥è§£çš„æˆæœ¬å°äºå½“å‰æœ€ä½³è§£çš„æˆæœ¬ï¼Œåˆ™è€ƒè™‘å®ƒ
                if (!tabuList.contains(moveKey) || cost < calculateCost(bestSolution, problem)) {
                    // å¦‚æœé‚»åŸŸè§£çš„æˆæœ¬æ›´å°ï¼Œåˆ™æ›´æ–°æœ€ä¼˜é‚»åŸŸè§£
                    if (cost < bestNeighborCost) {
                        bestNeighborCost = cost;
                        bestNeighbor = neighbor;
                    }
                }
            }

            // å¦‚æœæ‰¾åˆ°æœ€ä¼˜é‚»åŸŸè§£ï¼Œåˆ™æ›´æ–°å½“å‰è§£å’Œæœ€ä½³è§£
            if (bestNeighbor != null) {
                currentSolution = bestNeighbor;
                // å¦‚æœæ‰¾åˆ°çš„é‚»åŸŸè§£çš„æˆæœ¬æ¯”æœ€ä½³è§£æ›´å°ï¼Œæ›´æ–°æœ€ä½³è§£
                if (calculateCost(bestNeighbor, problem) < calculateCost(bestSolution, problem)) {
                    bestSolution = bestNeighbor.clone();
                }

                // å°†å½“å‰è§£çš„è·¯å¾„å˜åŒ–è®°å½•åˆ°ç¦å¿Œè¡¨ä¸­
                String moveKey = getMoveKey(currentSolution, bestNeighbor);
                tabuList.offer(moveKey);

                // å¦‚æœç¦å¿Œè¡¨è¶…å‡ºäº†é™åˆ¶å¤§å°ï¼Œç§»é™¤æœ€æ—§çš„è®°å½•
                if (tabuList.size() > tabuListSize) {
                    tabuList.poll();
                }
            }
        }

        // è¿”å›æœ€ç»ˆçš„æœ€ä½³è§£
        return bestSolution;
    }
```

